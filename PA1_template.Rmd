---
title: "First_Knitr"
author: "EHarris"
date: "5/25/2017"
output: html_document
---

### Set Global Option
```{r setoptions, echo = FALSE}
opts_chunk$set(echo = FALSE, results = “as”, include = TRUE)
```

### Load anticipated packages to be used throughout Course 5 Project 1
```{r setup, include=TRUE}
ipak <- function(pkg){
      new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
      if (length(new.pkg)) 
            install.packages(new.pkg, dependencies = TRUE)
      sapply(pkg, require, character.only = TRUE)
}

# usage
packages <- c("plyr", "dplyr", "data.table", "dtplyr", "lubridate", "ggplot2", "knitr")
ipak(packages)
```

### 1. Code for reading in the dataset and/or processing the data
```{r fileload, include = TRUE}
activity <- read.csv("activity.csv", header = TRUE)
activity$date <- as.Date(activity$date, format = "%Y-%m-%d")
activity <- select(activity, date, interval, steps)
dates <- data.frame(date=unique(activity$date))
# activity$date <- as.Date(activity$date, format = "%Y-%m-%d")
# activity$date.ymd <- format(activity$date, format = "%d-%b-%y")
# activity <- select(activity, date.ymd, date, interval, steps)
```

### An overview of the data file contents & layout
```{r fileview, include = TRUE}
dim(activity)

summary(activity)

table(activity$date, useNA = "always")       ## show missing values too
```

### 2. Histogram of the total number of steps taken each day.  Two steps:  
###    a) Summarize data to support requested histogram information  
###    b) Plot data to histogram
```{r totalsteps}
stepaday <- aggregate(steps ~ date, data = activity, FUN = function(x) sum=sum(x))
mrgtotal <- merge(dates[,1], stepaday[,1:2], by = 1, all = TRUE)
```

### Plot histogram reflecting total number of steps by day
```{r steps_per_dzy_hist, fig.keep = "all"", fig.show = "asis" }
qplot(date, steps, data = mrgtotal, xlim = c(mrgtotal[1]), geom = "histogram",
            main = "Total Steps Each Day", xlab = "Dates", ylab = "# Steps")
```

### 3. Mean and median number of steps per day
```{r avgsteps}
meansteps <- mean(mrgtotal$steps, na.rm = TRUE)
mediansteps <- median(mrgtotal$steps, na.rm = TRUE)
steps.a.day1 <- data.frame("Mean Steps" = meansteps, "Median Steps" = mediansteps)
steps.a.day1
```


### R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
